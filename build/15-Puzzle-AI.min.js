/*! 15-Puzzle-AI 2014-05-14 */
var Board=function(){"use strict";var a,b=[],c=[],d=function(d){b=d,a=b.length,c=this.getPositionOf(null)};return d.prototype.getPositions=function(){return b},d.prototype.getFreeSpace=function(){return c},d.prototype.getValidSwaps=function(){for(var b=c[0],d=c[1],e=d+1,f=d-1,g=[[b,e],[b,e],[e,b],[f,b]],h=[],i=0;i<g.length;i++){for(var j=!0,k=0;k<g[i].length;k++)(g[i][k]>=a||g[i][k]<0)&&(j=!1);j===!0&&h.push(g[i])}return h},d.prototype.getPositionOf=function(a){for(var c=0;c<b.length;c++)for(var d=0;d<b.length;d++)if(b[c][d]==a)return[c,d]},d.prototype.printPositions=function(){console.log(b)},d.prototype.swap=function(a,c){var d=b[a[0]][a[1]];b[a[0]][a[1]]=b[c[0]][c[1]],b[c[0]][c[1]]=d},d.prototype.isSolved=function(){for(var a=0,c=0;c<b.length;c++)for(var d=0;d<b[c].length;d++){if(b[c][d]!=a&&c!=b.length-1&&d!=b[c].length-1)return!1;a++}return!0},d}(),PuzzleAI=function(){"use strict";var a,b={};return b.solve=function(c){a=c,b.breadthSearch()},b.breadthSearch=function(){for(var b=a.getFreeSpace(),c=a.getValidSwaps(),d=0;d<c.length;d++){var e=new Board(a.getPositions());console.log("calling swap on: "+c[d]),e.swap(c[d],b),e.isSolved&&(console.log("solved with swap: "+c[d]),a.swap(c[d],b))}},b}(),positions=[[0,1,2,3],[4,5,6,7],[8,9,10,null],[12,13,14,11]],board=new Board(positions);board.isSolved()||PuzzleAI.solve(board),console.log(board.getPositionOf(null)),console.log("board is solved? : "+board.isSolved());